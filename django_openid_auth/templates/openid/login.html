{% extends "index.html" %}
{% load i18n %}

{% block scripts %}
<script>
function openid_google(){
document.getElementById("id_openid_identifier").value="https://www.google.com/accounts/o8/id";
document.getElementById("submitbutton").click()
}

function openid_yahoo(){
document.getElementById("id_openid_identifier").value="http://yahoo.com/";
document.getElementById("submitbutton").click()
} 

function openid_yandex(){
login=prompt("Enter your yandex login:","login");
    if (login!="" && login!=null){
	document.getElementById("id_openid_identifier").value="http://openid.yandex.ru/"+login;
	document.getElementById("submitbutton").click()
    }
} 

function openid_livejournal(){
login=prompt("Enter your livejournal username:","username");
    if (login!="" && login!=null){
	document.getElementById("id_openid_identifier").value="http://"+login+".livejournal.com";
	document.getElementById("submitbutton").click()
    }
} 

function openid_blogger(){
login=prompt("Enter your blogger/blogspot url:","username.blogger.com");
    if (login!="" && login!=null){
	document.getElementById("id_openid_identifier").value=login;
	document.getElementById("submitbutton").click()
    }
} 

</script>  
<style type="text/css">
input.openid {
  background: url({% url openid-logo %}) no-repeat; 
  background-position: 0 50%;
  padding-left: 16px;
}
</style>
{% endblock %}

{% block mainmenu %}
<div class="button" onclick="javascript:document.location='/'">News</div>
<div class="button_disabled">Sign in</div>
{% endblock %}

{% block main %}
{% if form.errors %}
<p class="errors">{% trans "Please correct errors below:" %}<br />
	{% if form.openid_identifier.errors %} 
		<span class="error">{{ form.openid_identifier.errors|join:", " }}</span>
	{% endif %}
	{% if form.next.errors %} 
		<span class="error">{{ form.next.errors|join:", " }}</span>
	{% endif %}
</p>
{% endif %}
<form name="fopenid" action="{{ action }}" method="post">
<h3>Sign in to Seetho using OpenID</h3>
	<div>
        <div class="form-row">
            <label for="id_openid_identifier">OpenID:</label>
            {{ form.openid_identifier }}
	    <input name="bsignin" id="submitbutton" type="submit" value="Sign in">
	</div>
	<div class="undercomment" style="align:center;">
	example: http://your.name.myopenid.com
	</div>
	</div>
<br />
<h3>Or use some OpenID providers:</h3>
<div style="border-spacing:2px;">
	<div class="buttonOpenID" onclick="javascript:openid_google()"><img src="/img/google.ico" /></div>
	<div class="buttonOpenID" onclick="javascript:openid_yahoo()"><img src="/img/yahoo.ico" /></div>
	<div class="buttonOpenID" onclick="javascript:openid_yandex()"><img src="/img/yandex.ico" /></div>
	<div class="buttonOpenID" onclick="javascript:openid_livejournal()"><img src="/img/livejournal.ico" /></div>
	<div class="buttonOpenID" onclick="javascript:openid_blogger()"><img src="/img/blogger.ico" /></div>

</div>
	{% if next %}
	<input type="hidden" name="next" value="{{ next }}" />
	{% endif %}
</form>	
{% endblock %}
{% block accordion %}
{% endblock %}
